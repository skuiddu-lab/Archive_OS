<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ARCHIVE_OS // Media Virtualizer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Rajdhani:wght@500;600;700&display=swap"
    rel="stylesheet">
  <link href="styles/style.css" rel="stylesheet" type="text/css">
</head>

<body>
  <header>
    <h1>ARCHIVE_OS <small style="font-size:0.5em; opacity:0.7">// VIRTUALIZER</small></h1>
    <nav>
      <button onclick="switchTab('summon')">DATA SCANNER</button>
      <button onclick="switchTab('manage')">VIRTUAL ASSETS</button>
      <button onclick="switchTab('storage')">STORAGE</button>
    </nav>

    <div class="stats">
      <div id="cpu-display" style="font-size: 0.7em; color: #aaa; text-align:right; margin-bottom:2px">
        CPU: [ NONE ]
      </div>
      <div style="display:flex; align-items:center; gap:15px">
        <div onclick="toggleProfile()" class="user-badge-container">
          <div style="margin-right:10px">BUFFER: <span id="qp-count">1000</span> TB</div>
          <div class="admin-badge" id="admin-badge-el">[ ADMIN_ID ]</div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div id="user-profile-panel" class="side-panel">
      <div class="panel-header">
        <h2>ADMIN PROFILE</h2>
        <button onclick="toggleProfile()" class="close-btn">×</button>
      </div>
      <div class="panel-content" id="user-stats-content"></div>
    </div>

    <div id="view-summon">
      <h2 style="margin-bottom: 5px; color:var(--accent-primary)">SOURCE SELECTOR</h2>
      <p style="margin-top: 0; color:#888">Choose a data stream to synchronize.</p>
      <div class="carousel-container">
        <button class="nav-arrow" onclick="prevBanner()">❮</button>
        <div id="active-banner-card" class="featured-banner"></div>
        <button class="nav-arrow" onclick="nextBanner()">❯</button>
      </div>
      <div id="summon-actions" class="summon-actions-panel">
        <div class="summon-controls">
          <button class="summon-btn single" onclick="summonSingle()">
            <span class="cost">10 TB</span><br>SINGLE SCAN
          </button>
          <button class="summon-btn multi" onclick="summonMulti()">
            <span class="cost">100 TB</span><br>MULTI SCAN (x10)
          </button>
        </div>
      </div>
      <div id="summon-result" class="hidden"></div>
    </div>

    <div id="view-manage" class="hidden">
      <div class="management-container">
        <div class="sidebar">
          <h3>RESTORED ASSETS</h3>
          <div id="unit-list"></div>
        </div>
        <div class="main-panel">
          <div id="unit-details">
            <p>> SELECT A FILE TO ANALYZE...</p>
          </div>
        </div>
      </div>
    </div>

    <div id="view-storage" class="hidden" style="padding:40px; text-align:center; overflow-y:auto; height:100%">
      <h2 style="color:#fff; margin-bottom:10px">DATA FRAGMENTS STORAGE</h2>
      <p style="color:#666; margin-top:0">Manage consumables and upgrade materials.</p>
      <div id="storage-grid" class="action-grid" style="max-width:1000px; margin:30px auto;">
      </div>
    </div>

    <div class="scanlines"></div>

    <div id="console-container" class="collapsed">
      <div id="console-header" onclick="toggleLog()">
        <span class="blink">></span> SYSTEM_LOG // <span id="log-status">OFFLINE</span>
        <button onclick="event.stopPropagation(); hardReset()" class="reset-btn">PURGE DATA</button>
        <button class="toggle-btn">▲</button>
      </div>
      <div id="console-log">
        <div class="log-entry">> ARCHIVE_OS BOOT SEQUENCE COMPLETE...</div>
      </div>
    </div>
  </main>

  <div id="sys-modal" class="hidden">
    <div class="modal-content">
      <h2 id="modal-title">SYSTEM ALERT</h2>
      <div id="modal-body">MESSAGE CONTENT</div>
      <button onclick="closeModal()">ACKNOWLEDGE</button>
    </div>
  </div>
<div id="summon-modal-overlay" class="hidden">
    <div class="summon-modal-box">
        <div class="summon-header"><h3>// SCAN COMPLETE</h3></div>
        <div id="summon-result-content"></div>
        <button class="summon-confirm-btn" onclick="closeSummonModal()">ACQUIRE DATA</button>
    </div>
  </div>
  <div id="unit-selector-modal" class="hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:6000; display:flex; align-items:center; justify-content:center; backdrop-filter:blur(5px)">
      <div class="modal-content" style="width:400px; max-height:80vh; display:flex; flex-direction:column;">
          <h2 style="color:var(--accent-primary)">SELECT TARGET</h2>
          <div id="unit-selector-list" style="overflow-y:auto; margin-bottom:20px; text-align:left;">
              </div>
          <button onclick="closeUnitSelector()">CANCEL</button>
      </div>
  </div>
  <script src="scripts/datas.js"></script>
  <script src="scripts/globals.js"></script>
  <script src="scripts/utils.js"></script>
  <script src="scripts/view.js"></script>
  <script src="scripts/mechanics.js"></script>
  <script src="scripts/main.js"></script>
</body>

</html>